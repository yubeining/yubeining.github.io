---
title: 稳定性
date: 2025-04-19
updated: 2025-04-19
categories: java
tags:
  - java
  - 笔记
top: 1
---

### 大促的稳定性保证
主要是大促的时候，会有流量的高峰
需要提前预估流量，这个是根据过往大促的流量峰值来预估的
因为推荐这一块，有很多服务方在调用






#### 线上问题如何解决
case1:
我们会有去做重点服务的监控和预警
比如说广告



##### 限流算法
1、IP黑名单：根据IP地址来限制访问。如果某个客户端的IP出现在黑名单中，那么它将不能发送任何请求。
2、URL路径黑名单：根据HTTP URL中的某些部分（如文件名、参数等）来限制访问。
3、反爬虫算法：通过识别用户的浏览器行为、设备信息或其他非自然的行为模式来检测恶意请求。
4、客户端超时时间：设置一个最小的超时时间，如果接收到的请求超过这个时间，那么服务器将拒绝接收该请求。
5、基于IP地址/会话标识限流：通过检查客户端的IP地址或当前用户的Session标识来限制访问。这可以防止恶意攻击者利用同一台机器上的多个用户进行大量的并发操作。
6、基于重定向限流：根据HTTP响应的状态码和返回的内容，如200（OK）、401（未授权）等，设置一个阈值。如果请求的状态码不在允许的范围内，那么服务器将拒绝接收该请求。
7、基于会话令牌的限流算法：通过检查用户的会话令牌或Cookie来限制访问次数。
8、基于时间的限流算法：根据当前的时间戳，设定一个最小等待时间。如果接收到的请求的时间戳超过这个阈值，那么服务器将拒绝接收该请求。
9、基于响应长度限流：根据HTTP响应的内容长度，设置一个阈值。如果请求的响应内容长度大于这个限制，那么服务器将拒绝接收该请求。
10、基于请求频率的限流算法：通过检查在一段时间内接收到的请求总数，来限制访问。如果达到或者超过某个设定的数量，那么服务器将拒绝接收新的请求。



#### 限流和熔断有什么区别
目的
熔断：防止故障扩散，快速失败来保护系统
限流：控制请求流量，防止系统因流量过大而崩溃

触发条件
熔断：服务调用失败率超过阈值，响应时间过长
限流：请求速率超过阈值

作用对象
熔断：服务间的调用，通常是保护被调用对象
限流：整个系统、服务接口



